---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import AppGrid from '../../components/AppGrid.tsx';

const entries = await getCollection('apps');
const apps = entries.map(({ slug, data }) => ({
  slug,
  title: data.title,
  tagline: data.tagline,
  description: data.description,
  category: data.category,
  icon: data.icon,
  playUrl: data.playUrl,
  price: data.price ?? 'Free',
  tags: data.tags ?? [],
  // optional: if you add these to frontmatter later
  rating: 4.5,
  downloadsLabel: '1K+',
}));
---
<BaseLayout title="Apps â€” FusionCore Apps" description="Browse our mobile apps and download them from Google Play.">
  <h1 class="text-3xl font-bold mb-6">Apps</h1>
  <AppGrid client:load apps={apps} />
</BaseLayout>
